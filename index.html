<html>
  <head>
    <meta http-equiv="refresh" content="15">
    <title>A Trello Dashboard</title>
    <link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <h1>Trello Dashboard</h1>
      <div id="projects" class="clear">
        <div class="row"></div>
      </div>
    </div>
  </body>

  <script src="//code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
  <script src="//api.trello.com/1/client.js?key=17ccd791431275b4c0afade4c83763bf"></script>
  
  <script type="text/javascript">
    var loadedCards = function(cards) {
      $.each(cards, function(index, card) {
        var card = $("<div class='card content-left-wrap col-lg-4 col-md-6 col-sm-12'><div class='card-block'><h4 class='card-title'>"+card.name+"</h4><p class='card-text'>"+card.desc+"</p></div></div>");
        $('#projects > .row').append(card);
      });
    };
    var loadCards = function(listId) {
      //Get the users boards
      Trello.get(
        '/lists/' + listId + '/cards',
        loadedCards,
        function() { console.log("Failed to load cards"); }
      );
    };

    var pitchListId = '58e158f29b0ae02ab71b9a87';
    Trello.authorize({
      type: "popup",
      name: "Trello dashboard",
      scope: {
        read: true,
        write: false },
      expiration: "never",
      success: loadCards(pitchListId),
      error: function() { console.log("Failed authentication"); }
    });
  </script>
</html>
